---
layout: default
permalink: /category/:category/
---

<div class="content">
    <header class="page-header">
        {% assign category_name_raw = page.category %}
        {% assign category_name_formatted = category_name_raw | replace: '-', ' ' | replace: '_', ' ' | capitalize %}
        <h1>Kategoria: {{ category_name_formatted }}</h1>
        <p class="page-description">Wszystkie przepisy w kategorii {{ category_name_formatted }}.</p>
    </header>

    <section class="recipes-grid-section">
        <h2 class="section-title">Przepisy</h2>
        <div class="recipes-grid">
            {% comment %} Filtruj przepisy tylko dla tej kategorii {% endcomment %}
            {% assign current_category_slug = page.category %}
            {% assign filtered_recipes = site.posts | where_exp:"item", "item.categories contains current_category_slug or item.category contains current_category_slug" %}

            {% if filtered_recipes.size > 0 %}
                {% for recipe in filtered_recipes %}
                    {% include recipe_card.html recipe=recipe %}
                {% endfor %}
            {% else %}
                <p>Brak przepisów w tej kategorii.</p>
            {% endif %}
        </div>
    </section>
    <p class="back-to-categories-link"><a href="{{ '/categories/' | relative_url }}">Wróć do wszystkich kategorii</a></p>
</div>
